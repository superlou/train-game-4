[gd_scene load_steps=15 format=3 uid="uid://d0ss7nky432g3"]

[ext_resource type="Script" path="res://ground_tile.gd" id="1_yg8tq"]
[ext_resource type="Material" uid="uid://cq6h272t70wni" path="res://rail.tres" id="2_r208t"]
[ext_resource type="Script" path="res://models/utility_pole/utility_path.gd" id="3_m0vwn"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_4tnhv"]
albedo_color = Color(0.223529, 0.329412, 0.0941176, 1)

[sub_resource type="PlaneMesh" id="PlaneMesh_wqb4a"]
material = SubResource("StandardMaterial3D_4tnhv")
size = Vector2(50, 1000)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_421cr"]
albedo_color = Color(0.345098, 0.521569, 0.129412, 1)

[sub_resource type="PlaneMesh" id="PlaneMesh_ykogi"]
material = SubResource("StandardMaterial3D_421cr")
size = Vector2(49.5, 1000)

[sub_resource type="BoxShape3D" id="BoxShape3D_42i3g"]
size = Vector3(50, 1, 1000)

[sub_resource type="Curve3D" id="Curve3D_whhsy"]
_data = {
"points": PackedVector3Array(-10.6523, -4.74312, 7.56878, 0, 0, 0, -25, 0, 0, 0, 0, 0, 7.05867, -1.82573, 1.26121, 25, 0, 0),
"tilts": PackedFloat32Array(0, 0)
}
point_count = 2

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_5hvpv"]
albedo_color = Color(0.67451, 0.67451, 0.67451, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_j1lwx"]
albedo_color = Color(0.443137, 0.254902, 0.0862745, 1)

[sub_resource type="BoxMesh" id="BoxMesh_t41f4"]
material = SubResource("StandardMaterial3D_j1lwx")
size = Vector3(2.2, 0.1, 0.2)

[sub_resource type="MultiMesh" id="MultiMesh_lyopa"]
transform_format = 1
use_colors = true
instance_count = 50
mesh = SubResource("BoxMesh_t41f4")
buffer = PackedFloat32Array(0, 0, 1, -24.502, 0, 1, 0, 0, -1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, -23.5005, 0, 1, 0, 0, -1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, -22.5004, 0, 1, 0, 0, -1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, -21.5004, 0, 1, 0, 0, -1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, -20.5003, 0, 1, 0, 0, -1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, -19.5002, 0, 1, 0, 0, -1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, -18.5001, 0, 1, 0, 0, -1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, -17.5, 0, 1, 0, 0, -1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, -16.5, 0, 1, 0, 0, -1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, -15.5, 0, 1, 0, 0, -1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, -14.5, 0, 1, 0, 0, -1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, -13.5, 0, 1, 0, 0, -1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, -12.5, 0, 1, 0, 0, -1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, -11.5, 0, 1, 0, 0, -1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, -10.5, 0, 1, 0, 0, -1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, -9.50003, 0, 1, 0, 0, -1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, -8.50001, 0, 1, 0, 0, -1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, -7.50001, 0, 1, 0, 0, -1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, -6.50002, 0, 1, 0, 0, -1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, -5.50001, 0, 1, 0, 0, -1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, -4.50001, 0, 1, 0, 0, -1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, -3.5, 0, 1, 0, 0, -1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, -2.5, 0, 1, 0, 0, -1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, -1.5, 0, 1, 0, 0, -1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, -0.500001, 0, 1, 0, 0, -1, 0, 0, 0, 0, 0, 0, 0, 0, 0, -1, 0.5, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, -1, 1.5, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, -1, 2.5, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, -1, 3.5, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, -1, 4.50001, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, -1, 5.50001, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, -1, 6.50002, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, -1, 7.50001, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, -1, 8.5, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, -1, 9.50003, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, -1, 10.5, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, -1, 11.5, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, -1, 12.5, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, -1, 13.5, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, -1, 14.5, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, -1, 15.5, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, -1, 16.5, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, -1, 17.5, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, -1, 18.5001, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, -1, 19.5002, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, -1, 20.5003, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, -1, 21.5004, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, -1, 22.5004, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, -1, 23.5004, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, -1, 24.502, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0)

[sub_resource type="Curve3D" id="Curve3D_1j134"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, -19.5886, 0, 5.55478, 0, 0, 0, 0, 0, 0, 18.3916, 0, 5.5456),
"tilts": PackedFloat32Array(0, 0)
}
point_count = 2

[node name="GroundTile" type="AnimatableBody3D"]
script = ExtResource("1_yg8tq")

[node name="MeshInstance3D" type="MeshInstance3D" parent="."]
mesh = SubResource("PlaneMesh_wqb4a")

[node name="MeshInstance3D2" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.0113795, 0)
mesh = SubResource("PlaneMesh_ykogi")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.5, 0)
shape = SubResource("BoxShape3D_42i3g")

[node name="TrackPath" type="Path3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.0880644, 0)
curve = SubResource("Curve3D_whhsy")

[node name="CSGPolygon3D" type="CSGPolygon3D" parent="TrackPath"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.0835457, 0)
polygon = PackedVector2Array(0.72, 0, 0.725, 0.1, 0.827, 0.1, 0.829, 0)
mode = 2
path_node = NodePath("..")
path_interval_type = 0
path_interval = 0.2
path_simplify_angle = 0.0
path_rotation = 2
path_local = true
path_continuous_u = true
path_u_distance = 1.0
path_joined = false
material = ExtResource("2_r208t")

[node name="CSGPolygon3D2" type="CSGPolygon3D" parent="TrackPath"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.0835457, 0)
polygon = PackedVector2Array(-0.72, 0, -0.725, 0.1, -0.827, 0.1, -0.829, 0)
mode = 2
path_node = NodePath("..")
path_interval_type = 0
path_interval = 0.2
path_simplify_angle = 0.0
path_rotation = 2
path_local = true
path_continuous_u = true
path_u_distance = 1.0
path_joined = false
material = ExtResource("2_r208t")

[node name="CSGPolygon3D3" type="CSGPolygon3D" parent="TrackPath"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.0583044, -0.00711334)
polygon = PackedVector2Array(-2.00261, -0.0612296, -0.945998, 0.0506554, -0.00113559, 0.0280257, 0.984438, 0.063525, 1.95508, -0.0652847)
mode = 2
path_node = NodePath("..")
path_interval_type = 0
path_interval = 0.5
path_simplify_angle = 0.0
path_rotation = 2
path_local = true
path_continuous_u = true
path_u_distance = 1.0
path_joined = false
material = SubResource("StandardMaterial3D_5hvpv")

[node name="Ties" type="MultiMeshInstance3D" parent="TrackPath"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.03215, 0)
multimesh = SubResource("MultiMesh_lyopa")

[node name="UtilityPath" type="Path3D" parent="."]
curve = SubResource("Curve3D_1j134")
script = ExtResource("3_m0vwn")
num_poles = 4

[connection signal="curve_changed" from="TrackPath" to="." method="_on_track_path_curve_changed"]
