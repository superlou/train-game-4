[gd_scene load_steps=15 format=3 uid="uid://danay4nhul4s3"]

[ext_resource type="PackedScene" uid="uid://dfw83edf3xiyx" path="res://systems/fps_display/fps_display.tscn" id="1_2ar2q"]
[ext_resource type="Script" path="res://Ground.gd" id="1_ewr1a"]
[ext_resource type="PackedScene" uid="uid://cdspl3aeqpd2r" path="res://trainset.tscn" id="1_l72nw"]
[ext_resource type="PackedScene" uid="uid://rgv4era602k3" path="res://models/flatcar/flatcar.tscn" id="2_34f60"]
[ext_resource type="PackedScene" uid="uid://c22n2h2b626by" path="res://characters/player/player.tscn" id="3_073to"]
[ext_resource type="PackedScene" uid="uid://t1vl3wm84h30" path="res://models/locomotive/locomotive.tscn" id="4_rif6w"]
[ext_resource type="PackedScene" uid="uid://br7qx5fwroqug" path="res://models/flatcar/control_flatcar.tscn" id="5_rfhbl"]
[ext_resource type="Material" uid="uid://dh6ykun8bv60u" path="res://sky/examples/day_sky.tres" id="5_s2rs5"]
[ext_resource type="PackedScene" uid="uid://c6tpgo63v8yb8" path="res://models/drum/drum.tscn" id="10_w3jha"]
[ext_resource type="PackedScene" uid="uid://bkbhhy4vo7thw" path="res://characters/person/person.tscn" id="11_10vm5"]
[ext_resource type="PackedScene" uid="uid://8timke4ydnsw" path="res://systems/ai/StandPoint.tscn" id="12_24y4f"]
[ext_resource type="PackedScene" uid="uid://cqm1o33qq6xpr" path="res://models/repeater/repeater.tscn" id="12_65y17"]

[sub_resource type="Sky" id="Sky_6sy21"]
sky_material = ExtResource("5_s2rs5")

[sub_resource type="Environment" id="Environment_j3mav"]
background_mode = 2
sky = SubResource("Sky_6sy21")
ssao_enabled = true

[node name="World" type="Node3D"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_j3mav")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.866024, -0.433016, 0.250001, 0, 0.499998, 0.866027, -0.500003, 0.75, -0.43301, 0, 0, 0)
shadow_enabled = true
directional_shadow_max_distance = 20.0

[node name="Ground" type="Node3D" parent="." node_paths=PackedStringArray("trainset")]
script = ExtResource("1_ewr1a")
trainset = NodePath("../Trainset")

[node name="Trainset" parent="." node_paths=PackedStringArray("element_store", "driver_panel") instance=ExtResource("1_l72nw")]
process_physics_priority = -1
element_store = NodePath("ControlFlatcar/ControlCrate/ElementStore")
driver_panel = NodePath("ControlFlatcar/ControlCrate/DriverPanel")

[node name="Locomotive" parent="Trainset" instance=ExtResource("4_rif6w")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 31.2529, 0.259517, 0)

[node name="ControlFlatcar" parent="Trainset" instance=ExtResource("5_rfhbl")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 10.6586, 0.259517, 0)

[node name="Flatcar1" parent="Trainset" instance=ExtResource("2_34f60")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -11.4141, 0.259517, 0)

[node name="Flatcar2" parent="Trainset" instance=ExtResource("2_34f60")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -33.7597, 0.259517, 0)

[node name="NavigationLinks" type="Node3D" parent="Trainset"]

[node name="Player" parent="." instance=ExtResource("3_073to")]
transform = Transform3D(0.0166495, 0, 0.999862, 0, 1, 0, -0.999862, 0, 0.0166495, 4.80161, 1.95714, 0.660603)

[node name="FpsDisplay" parent="." instance=ExtResource("1_2ar2q")]

[node name="drum" parent="." instance=ExtResource("10_w3jha")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.4314, 1.71614, 0)

[node name="drum2" parent="." instance=ExtResource("10_w3jha")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.92243, 1.62131, 0)

[node name="drum4" parent="." instance=ExtResource("10_w3jha")]
transform = Transform3D(0.982454, 0, -0.186507, 0, 1, 0, 0.186507, 0, 0.982454, -18.0067, 1.71614, 0.426941)

[node name="drum5" parent="." instance=ExtResource("10_w3jha")]
transform = Transform3D(0.982454, 0, -0.186507, 0, 1, 0, 0.186507, 0, 0.982454, -16.5242, 1.62131, 0.708374)

[node name="drum3" parent="." instance=ExtResource("10_w3jha")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 13.1215, 2.0756, 0)

[node name="repeater" parent="." instance=ExtResource("12_65y17")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7.6967, 2, 1.27275)

[node name="Person" parent="." instance=ExtResource("11_10vm5")]
transform = Transform3D(0.601257, 0, 0.799055, 0, 1, 0, -0.799055, 0, 0.601257, -4.76153, 2.01616, 0)

[node name="StandPoint2" parent="." instance=ExtResource("12_24y4f")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -8.27826, 1.54221, 0.775887)

[connection signal="requested_throttle_change" from="Trainset/ControlFlatcar/ControlCrate/DriverPanel" to="Trainset" method="_on_driver_panel_requested_throttle_change"]
[connection signal="requested_throttle_stop" from="Trainset/ControlFlatcar/ControlCrate/DriverPanel" to="Trainset" method="_on_driver_panel_requested_throttle_stop"]
[connection signal="requested_velocity_change" from="Trainset/ControlFlatcar/ControlCrate/DriverPanel" to="Trainset" method="_on_driver_panel_requested_velocity_change"]
[connection signal="requested_velocity_stop" from="Trainset/ControlFlatcar/ControlCrate/DriverPanel" to="Trainset" method="_on_driver_panel_requested_velocity_stop"]

[editable path="Trainset/ControlFlatcar"]
[editable path="Trainset/ControlFlatcar/RssiArea"]
